<audio #gameMusic src="assets/audio/music.mp3" loop></audio>
<div *ngIf="showPreGameLobby" class="pre-game-lobby-overlay">
  <div class="pre-game-lobby-box">
    <h2>Instructions du jeu</h2>
    <p>Bienvenue, petit poisson ! 🐟</p>
    <p>Tu es un <strong>poisson courageux</strong> qui vit dans un bel aquarium. Mais attention... de méchants crabes 🦀 sont arrivés et veulent tout gâcher !</p>
    <p>Heureusement, tu as un super pouvoir : <strong>les mots</strong> !</p>
    <p>À chaque question, tu devras écrire le <strong>nombre en lettres</strong>. Si tu donnes la bonne réponse, tu <strong>bats un crabe</strong> et tu aides ton aquarium à redevenir paisible.</p>
    <p>Par exemple : si la question est "2 + 3", tu devras écrire <strong>"cinq"</strong>.</p>
    <p>Bonne chance, petit(e) héros/héroïne des mers ! 🌊</p>
    <app-big-button class="main-button" (click)="startGame()">Démarrer</app-big-button>
  </div>
</div>
<div *ngIf="question && !showPreGameLobby; else loading">
    <div class="header">
        <div class="question-box">
            <div class="question" [ngStyle]="{ 'font-family': fontFamily }" >
                <p>{{ question.question }}</p>
            </div>
            <div class="answer">
                <span
                    *ngFor="let input of inputs; let i = index"
                    [ngClass]="[input.status, i === cursorPosition ? 'cursor' : '']"
                    [ngStyle]="{ 'font-family': fontFamily}"
                >
                    {{ input.letter }}
                </span>
            </div>
        </div>
    </div>
</div>
<canvas #gameCanvas class="game"></canvas>
<ng-template #loading>
  <p>Loading question...</p>
</ng-template>